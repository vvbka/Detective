/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.13.0 - 2015-05-02
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.typeahead","ui.bootstrap.position","ui.bootstrap.bindHtml"]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var a=i.match(e);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:a[3],source:t(a[4]),viewMapper:t(a[2]||a[1]),modelMapper:t(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,i,a,n,o,r){var p=[9,13,27,38,40];return{require:"ngModel",link:function(c,l,s,d){var u,f=c.$eval(s.typeaheadMinLength)||1,h=c.$eval(s.typeaheadWaitMs)||0,m=c.$eval(s.typeaheadEditable)!==!1,v=e(s.typeaheadLoading).assign||angular.noop,g=e(s.typeaheadOnSelect),y=s.typeaheadInputFormatter?e(s.typeaheadInputFormatter):void 0,$=s.typeaheadAppendToBody?c.$eval(s.typeaheadAppendToBody):!1,b=c.$eval(s.typeaheadFocusFirst)!==!1,w=e(s.ngModel).assign,x=r.parse(s.typeahead),I=c.$new();c.$on("$destroy",function(){I.$destroy()});var M="typeahead-"+I.$id+"-"+Math.floor(1e4*Math.random());l.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":M});var H=angular.element("<div typeahead-popup></div>");H.attr({id:M,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(s.typeaheadTemplateUrl)&&H.attr("template-url",s.typeaheadTemplateUrl);var k=function(){I.matches=[],I.activeIdx=-1,l.attr("aria-expanded",!1)},q=function(t){return M+"-option-"+t};I.$watch("activeIdx",function(t){0>t?l.removeAttr("aria-activedescendant"):l.attr("aria-activedescendant",q(t))});var E=function(t){var e={$viewValue:t};v(c,!0),i.when(x.source(c,e)).then(function(i){var a=t===d.$viewValue;if(a&&u)if(i&&i.length>0){I.activeIdx=b?0:-1,I.matches.length=0;for(var n=0;n<i.length;n++)e[x.itemName]=i[n],I.matches.push({id:q(n),label:x.viewMapper(I,e),model:i[n]});I.query=t,I.position=$?o.offset(l):o.position(l),I.position.top=I.position.top+l.prop("offsetHeight"),l.attr("aria-expanded",!0)}else k();a&&v(c,!1)},function(){k(),v(c,!1)})};k(),I.query=void 0;var U,S=function(t){U=a(function(){E(t)},h)},V=function(){U&&a.cancel(U)};d.$parsers.unshift(function(t){return u=!0,t&&t.length>=f?h>0?(V(),S(t)):E(t):(v(c,!1),V(),k()),m?t:t?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),t)}),d.$formatters.push(function(t){var e,i,a={};return m||d.$setValidity("editable",!0),y?(a.$model=t,y(c,a)):(a[x.itemName]=t,e=x.viewMapper(c,a),a[x.itemName]=void 0,i=x.viewMapper(c,a),e!==i?e:t)}),I.select=function(t){var e,i,n={};n[x.itemName]=i=I.matches[t].model,e=x.modelMapper(c,n),w(c,e),d.$setValidity("editable",!0),d.$setValidity("parse",!0),g(c,{$item:i,$model:e,$label:x.viewMapper(c,n)}),k(),a(function(){l[0].focus()},0,!1)},l.bind("keydown",function(t){0!==I.matches.length&&-1!==p.indexOf(t.which)&&(-1!=I.activeIdx||13!==t.which&&9!==t.which)&&(t.preventDefault(),40===t.which?(I.activeIdx=(I.activeIdx+1)%I.matches.length,I.$digest()):38===t.which?(I.activeIdx=(I.activeIdx>0?I.activeIdx:I.matches.length)-1,I.$digest()):13===t.which||9===t.which?I.$apply(function(){I.select(I.activeIdx)}):27===t.which&&(t.stopPropagation(),k(),I.$digest()))}),l.bind("blur",function(){u=!1});var _=function(t){l[0]!==t.target&&(k(),I.$digest())};n.bind("click",_),c.$on("$destroy",function(){n.unbind("click",_),$&&A.remove(),H.remove()});var A=t(H)(I);$?n.find("body").append(A):l.after(A)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,i){t.templateUrl=i.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,n,o){var r=i(o.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";t(r).then(function(t){e(t.trim())(a,function(t){n.replaceWith(t)})})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,i){return i?(""+e).replace(new RegExp(t(i),"gi"),"<strong>$&</strong>"):e}}),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function i(t,i){return t.currentStyle?t.currentStyle[i]:e.getComputedStyle?e.getComputedStyle(t)[i]:t.style[i]}function a(t){return"static"===(i(t,"position")||"static")}var n=function(e){for(var i=t[0],n=e.offsetParent||i;n&&n!==i&&a(n);)n=n.offsetParent;return n||i};return{position:function(e){var i=this.offset(e),a={top:0,left:0},o=n(e[0]);o!=t[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var r=e[0].getBoundingClientRect();return{width:r.width||e.prop("offsetWidth"),height:r.height||e.prop("offsetHeight"),top:i.top-a.top,left:i.left-a.left}},offset:function(i){var a=i[0].getBoundingClientRect();return{width:a.width||i.prop("offsetWidth"),height:a.height||i.prop("offsetHeight"),top:a.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:a.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,i,a){var n,o,r,p,c=i.split("-"),l=c[0],s=c[1]||"center";n=a?this.offset(t):this.position(t),o=e.prop("offsetWidth"),r=e.prop("offsetHeight");var d={center:function(){return n.left+n.width/2-o/2},left:function(){return n.left},right:function(){return n.left+n.width}},u={center:function(){return n.top+n.height/2-r/2},top:function(){return n.top},bottom:function(){return n.top+n.height}};switch(l){case"right":p={top:u[s](),left:d[l]()};break;case"left":p={top:u[s](),left:n.left-o};break;case"bottom":p={top:u[l](),left:d[s]()};break;default:p={top:n.top-r,left:d[s]()}}return p}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,i){e.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),t.$watch(i.bindHtmlUnsafe,function(t){e.html(t||"")})}});